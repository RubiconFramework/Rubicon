[gd_scene load_steps=13 format=3 uid="uid://cu1sj7ve0852w"]

[ext_resource type="Script" path="res://source/Rubicon.Menus/MainMenu/MainMenu.cs" id="1_k5yei"]
[ext_resource type="Texture2D" uid="uid://ctcej0itlui1n" path="res://assets/menus/menuBGDesat.png" id="2_6l477"]
[ext_resource type="Texture2D" uid="uid://dw8dm7isvfjvw" path="res://assets/menus/menuBG.png" id="3_fl4fl"]
[ext_resource type="SpriteFrames" path="res://assets/menus/mainmenu/storyMode.res" id="4_466ln"]
[ext_resource type="SpriteFrames" uid="uid://b8atqw2035xd3" path="res://assets/menus/mainmenu/freeplay.res" id="5_uxx7t"]
[ext_resource type="SpriteFrames" path="res://assets/menus/mainmenu/options.res" id="6_3n0xn"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_7ijp4"]
blend_mode = 2

[sub_resource type="Animation" id="Animation_yt1py"]
resource_name = "press"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BG/MenuBg:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.001),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BG/MenuBGMagenta:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0.992157, 0.443137, 0.607843, 0), Color(0.992157, 0.443137, 0.607843, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_k4v1c"]
_data = {
"press": SubResource("Animation_yt1py")
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_blo5e"]

[sub_resource type="Animation" id="Animation_ick68"]
resource_name = "flash"
length = 0.12
loop_mode = 1
step = 0.06
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.06),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"selected"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_at4ld"]
_data = {
"flash": SubResource("Animation_ick68")
}

[node name="Main Menu" type="Node"]
script = ExtResource("1_k5yei")

[node name="BG" type="Node2D" parent="."]

[node name="MenuBgDesat" type="Sprite2D" parent="BG"]
material = SubResource("CanvasItemMaterial_7ijp4")
position = Vector2(688, 387)
scale = Vector2(1.10137, 1.10137)
texture = ExtResource("2_6l477")

[node name="ColorRect" type="ColorRect" parent="BG/MenuBgDesat"]
show_behind_parent = true
anchors_preset = -1
anchor_left = -0.000777605
anchor_top = -0.00136986
anchor_right = -0.000777605
anchor_bottom = -0.00136986
offset_left = -646.0
offset_top = -365.0
offset_right = 644.0
offset_bottom = 366.0
color = Color(0.929412, 0.929412, 0.929412, 1)
metadata/_edit_use_anchors_ = true

[node name="MenuBGMagenta" type="Sprite2D" parent="BG"]
modulate = Color(0.992157, 0.443137, 0.607843, 0)
position = Vector2(688, 387)
scale = Vector2(1.10137, 1.10137)
texture = ExtResource("2_6l477")

[node name="MenuBg" type="Sprite2D" parent="BG"]
position = Vector2(688, 387)
scale = Vector2(1.10137, 1.10137)
texture = ExtResource("3_fl4fl")

[node name="AnimationPlayer" type="AnimationPlayer" parent="BG"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_k4v1c")
}

[node name="Buttons" type="Node2D" parent="."]

[node name="StoryMode" type="AnimatedSprite2D" parent="Buttons"]
material = SubResource("ShaderMaterial_blo5e")
position = Vector2(683, 176)
sprite_frames = ExtResource("4_466ln")
animation = &"selected"

[node name="Button" type="Button" parent="Buttons/StoryMode"]
self_modulate = Color(1, 1, 1, 0)
offset_left = -298.0
offset_top = -50.0
offset_right = 302.0
offset_bottom = 50.0
pivot_offset = Vector2(300, 50)
mouse_default_cursor_shape = 2

[node name="Freeplay" type="AnimatedSprite2D" parent="Buttons"]
position = Vector2(683, 384)
sprite_frames = ExtResource("5_uxx7t")
animation = &"idle"
autoplay = "idle"
frame_progress = 0.420073

[node name="Button" type="Button" parent="Buttons/Freeplay"]
self_modulate = Color(1, 1, 1, 0)
offset_left = -238.0
offset_top = -48.0
offset_right = 238.0
offset_bottom = 52.0
pivot_offset = Vector2(238, 50)
mouse_default_cursor_shape = 2

[node name="Options" type="AnimatedSprite2D" parent="Buttons"]
position = Vector2(683, 584)
sprite_frames = ExtResource("6_3n0xn")
animation = &"idle"
autoplay = "idle"
frame_progress = 0.93787

[node name="Button" type="Button" parent="Buttons/Options"]
self_modulate = Color(1, 1, 1, 0)
offset_left = -238.0
offset_top = -50.0
offset_right = 236.0
offset_bottom = 50.0
pivot_offset = Vector2(237, 50)
mouse_default_cursor_shape = 2

[node name="ButtonFlash" type="AnimationPlayer" parent="."]
root_node = NodePath("../Buttons/StoryMode")
libraries = {
"": SubResource("AnimationLibrary_at4ld")
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(683, 384)

[connection signal="mouse_entered" from="Buttons/StoryMode/Button" to="." method="focusButton"]
[connection signal="mouse_exited" from="Buttons/StoryMode/Button" to="." method="unfocusButton"]
[connection signal="pressed" from="Buttons/StoryMode/Button" to="." method="selectOption"]
[connection signal="mouse_entered" from="Buttons/Freeplay/Button" to="." method="focusButton"]
[connection signal="mouse_exited" from="Buttons/Freeplay/Button" to="." method="unfocusButton"]
[connection signal="pressed" from="Buttons/Freeplay/Button" to="." method="selectOption"]
[connection signal="mouse_entered" from="Buttons/Options/Button" to="." method="focusButton"]
[connection signal="mouse_exited" from="Buttons/Options/Button" to="." method="unfocusButton"]
[connection signal="pressed" from="Buttons/Options/Button" to="." method="selectOption"]
